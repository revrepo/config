<h1>Android SDK</h1>
<p class="p1"><span class="s1">The SDK can be found here: <a href="https://github.com/nuubit/SDK/">https://github.com/nuubit/SDK/</a></span></p>
<p class="p1">Self Service Signup: <a href="https://portal.nuubit.net/#/signup/plans">https://portal.nuubit.net/#/signup/plans</a></p>
<p> </p>
<p><span style="font-weight: 400;">The goal of this document is for the user to get the nuu:bit Android SDK functional quickly. The f</span>igure belowhigh-level level diagram of the work flow:</p>
<p> </p>
<p><img src="https://support.nuubit.net/hc/article_attachments/115005680866/SDK-QS-HL.png" alt="SDK-QS-HL.png" /> </p>
<p class="wysiwyg-text-align-left"> </p>
<p class="wysiwyg-text-align-left">Before starting we highly recommend to review the <a href="/hc/en-us/articles/207346156-SDK-FAQ">SDK F.A.Q. article</a>.</p>
<p class="wysiwyg-text-align-left"> </p>
<p class="wysiwyg-text-align-left"><span style="font-weight: 400;"><strong>Step 1</strong> - Sign in to the nuu:bit portal (<a href="https://portal.nuubit.net/">https://portal.nuubit.net/</a></span><span style="font-weight: 400;">) using your existing nuu:bit portal credentials.</span></p>
<p class="wysiwyg-text-align-left"><strong><strong><img src="https://support.nuubit.net/hc/article_attachments/115005680926/Portal-Login.png" alt="Portal-Login.png" width="498" height="530" /><br /><br /></strong></strong></p>
<p> </p>
<p><span style="font-weight: 400;"><strong>Step 2</strong> - Select the "Mobile Apps" tab from the top of the portal page.  Choose the operating system from the left of the column (currently only Android SDK is provided/supported).</span></p>
<p><strong><strong><img src="https://support.nuubit.net/hc/article_attachments/115005689066/screen1.png" alt="screen1.png" /><br /><br /></strong></strong></p>
<p> </p>
<p><span style="font-weight: 400;"><strong>Step 3</strong> - Select Add new app button:</span></p>
<p><strong><strong><img src="https://support.nuubit.net/hc/en-us/article_attachments/209826466/Screen_Shot_2016-10-28_at_10.59.30_AM.png" alt="" /></strong></strong></p>
<p> </p>
<p><strong>Step 4</strong> - Enter the App name - in this example below, the App is called “My Example Android App”:<strong><strong><br /></strong></strong></p>
<p><img src="https://support.nuubit.net/hc/article_attachments/115005671803/screen2.png" alt="screen2.png" /></p>
<p> </p>
<p><strong>Step 5</strong> - Once the App is registered on the nuu:bit Platform, use the “Create App” button.<strong><strong><br /></strong></strong></p>
<p><img src="https://support.nuubit.net/hc/en-us/article_attachments/209829146/Screen_Shot_2016-10-28_at_11.08.29_AM.png" alt="" /></p>
<p><span style="font-weight: 400;"><strong>Step 6</strong> - The newly added App should appear in the iOS Apps List.   </span></p>
<p> </p>
<p><img src="https://support.nuubit.net/hc/article_attachments/115005689366/screen3.png" alt="screen3.png" /> </p>
<p><strong>Step 7</strong> - Access the SDK key by clicking on the eye icon.  This will reveal the SDK key that will be used in the mobile App to initialize the nuu:bit SDK code.</p>
<p><img src="https://support.nuubit.net/hc/article_attachments/115005689426/screen4.png" alt="screen4.png" /></p>
<table style="height: 33px;" width="302">
<tbody>
<tr>
<td><span class="wysiwyg-color-black70"><em>6bf5ce2f-1da7-48af-b3ff-646f58f423bc</em></span></td>
</tr>
</tbody>
</table>
<p> </p>
<p> </p>
<p><strong> </strong></p>
<p><strong>Step 8</strong><span style="font-weight: 400;"> - Manifest (</span><span class="s1">AndroidManifest.xml) will need the correct </span><span style="font-weight: 400;">permission </span></p>
<p><strong> </strong></p>
<p><span style="font-weight: 400;">&lt;</span><strong>uses-permission </strong><strong>android</strong><strong>:name=</strong><strong>"android.permission.INTERNET" </strong><span style="font-weight: 400;">/&gt;</span></p>
<p><strong> </strong></p>
<p><strong>Step 8 </strong><span style="font-weight: 400;">- Add repository: you need paste this in your </span><strong>root build.gradle</strong><span style="font-weight: 400;"> file (</span><strong>not</strong><span style="font-weight: 400;"> your </span><strong>module build.gradle</strong><span style="font-weight: 400;"> file):</span></p>
<p>The following example has two maven repositories.  Add the line for the mavin.revapm.com</p>
<pre><code class="undefined">
allprojects {
    repositories {
        jcenter()
        maven { url 'https://jitpack.io' }
        <strong>maven { url 'https://maven.nuubit.net/' }</strong>
    }
}
</code></pre>
<p><strong>Step 9 </strong><span style="font-weight: 400;">- Add library: you need paste this in your </span><strong>module build.gradle</strong><span style="font-weight: 400;">:</span></p>
<p><span style="font-weight: 400;">dependencies {</span><span style="font-weight: 400;"><br /></span> <span style="font-weight: 400;">// ... other dependencies here</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>compile project(':NuubitSDK')</span></p>
<p><span class="wysiwyg-color-red">compile(<strong>'</strong><strong><em>com.rev.sdk:RevSDK:1.0.0@aar</em></strong><strong>'</strong>) {</span></p>
<p class="p1"><span style="font-weight: 400;">transitive = </span><strong>true</strong><span style="font-weight: 400;">;</span></p>
<p><span style="font-weight: 400;">}</span></p>
<p><span style="font-weight: 400;">}</span></p>
<p><span style="font-weight: 400;">or if you want to use the latest version</span></p>
<p><span style="font-weight: 400;">dependencies {</span><span style="font-weight: 400;"><br /></span> <span style="font-weight: 400;">// ... other dependencies here</span></p>
<p><span style="font-weight: 400;">compile(</span><strong>'</strong><strong><em>com.rev.sdk:RevSDK:1.0@aar</em></strong><strong>'</strong><span style="font-weight: 400;">) {</span></p>
<p><span style="font-weight: 400;">transitive = </span><strong>true</strong><span style="font-weight: 400;">;</span></p>
<p><span style="font-weight: 400;">}</span></p>
<p><span style="font-weight: 400;">compile </span><strong>'com.squareup.okhttp3:okhttp:3.6.0'</strong></p>
<p><span style="font-weight: 400;">compile </span><strong>'com.squareup.retrofit2:converter-gson:2.1.0'</strong></p>
<p><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">}</span></p>
<p><strong> </strong></p>
<p><strong>Step 10 </strong><span style="font-weight: 400;">- If you are using ProGuard you might need to add the following option </span><span style="font-weight: 400;">in file </span><strong>proguard-rules.pro</strong><span style="font-weight: 400;">:</span></p>
<p><strong> </strong></p>
<p><span style="font-weight: 400;">-dontwarn .** com.rev.sdk.*</span></p>
<p><strong> </strong></p>
<p><span class="wysiwyg-color-red"><strong>Step 11</strong> - Add nuu:bit SDK key in AndroidManifest.xml</span></p>
<p> </p>
<p class="p1"> </p>
<p><span class="wysiwyg-color-red">In <strong>revsdk_api.xml</strong> insert:</span></p>
<p class="p1"><span class="wysiwyg-color-red"> </span></p>
<p><span class="wysiwyg-color-red">&lt;<strong>resources</strong>&gt;</span></p>
<p><span class="wysiwyg-color-red">&lt;<strong>string </strong><strong>name=</strong><strong>"revsdk_key" </strong><strong>translatable=</strong><strong>"false"</strong>&gt;</span></p>
<p><span class="wysiwyg-color-red" style="font-weight: 400;">563c50ed-0e66-4a67-871d-1114b848bbb</span></p>
<p><span class="wysiwyg-color-red">&lt;/<strong>string</strong>&gt;</span></p>
<p><span class="wysiwyg-color-red">&lt;/<strong>resources</strong>&gt;</span></p>
<p><strong> </strong></p>
<p><strong>Step 12</strong><span style="font-weight: 400;"> - Insert meta-data section with your key to project’s</span><strong> AndroidManifest.xml</strong><span style="font-weight: 400;">:</span></p>
<p> </p>
<p> </p>
<p><span class="s1">&lt;meta-data</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>android:name="com.nuubit.key"</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>android:value="6bf5ce2f-1da7-48af-b3ff-646f58f423bc" /&gt;</span></p>
<p class="p1"> </p>
<p><span class="wysiwyg-color-red"><strong>&lt;</strong><strong>application</strong></span></p>
<p><span class="wysiwyg-color-red"><strong>   </strong> <strong>...</strong><strong>&gt;</strong></span></p>
<p><span class="wysiwyg-color-red"><strong><em>&lt;!--Other application data--&gt;</em></strong></span></p>
<p><span class="wysiwyg-color-red"><strong>   </strong> <strong>&lt;</strong><strong>meta-data</strong></span></p>
<p><span class="wysiwyg-color-red"><strong>       </strong> <strong>android</strong><strong>:name=</strong><strong>"com.nuubitsdk.key"</strong></span></p>
<p><span class="wysiwyg-color-red"><strong>       </strong> <strong>android</strong><strong>:value=</strong><strong>"@string/revsdk_key"</strong><strong>/&gt;</strong></span></p>
<p><span class="wysiwyg-color-red"><strong><em>&lt;!--Other application data--&gt;</em></strong></span></p>
<p><span class="wysiwyg-color-red"><strong>&lt;/</strong><strong>application</strong><strong>&gt;</strong></span></p>
<p><strong> </strong></p>
<p><strong>Step 13</strong></p>
<ol>
<li style="font-weight: 400;"><span style="font-weight: 400;">All applications MUST HAVE  a class that is an extension of NuubitApplication class that is an extension of </span><a href="https://developer.android.com/reference/android/app/Application.html"><span style="font-weight: 400;">Application class</span></a><span style="font-weight: 400;">.</span></li>
</ol>
<p><strong> </strong></p>
<p><span style="font-weight: 400;">public class NuubitApp extends NuubitAppication{</span></p>
<p><span style="font-weight: 400;">. . .</span></p>
<p><span style="font-weight: 400;">}</span></p>
<p><strong> </strong></p>
<p><span style="font-weight: 400;">Set this class in Manifest as</span></p>
<p> </p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;application</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>android:name=".NuubitApp"</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>android:allowBackup="true"</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>android:icon="@mipmap/ic_launcher"</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>android:label="@string/app_name"</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>android:roundIcon="@mipmap/ic_launcher_round"</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>android:supportsRtl="true"</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>android:theme="@style/AppTheme"&gt;</span></p>
<p><span style="font-weight: 400;">&lt;</span><strong>application</strong></p>
<p><strong>   </strong><strong>android</strong><strong>:name=</strong><strong>".NuubitApp"</strong></p>
<p><strong> </strong></p>
<p><strong>. . .</strong></p>
<p><strong> </strong></p>
<p><strong>   </strong><strong>android</strong><strong>:theme=</strong><strong>"@style/AppTheme"</strong><span style="font-weight: 400;">&gt;</span></p>
<p><strong><br /><br /></strong></p>
<p><strong>Step 14</strong><span style="font-weight: 400;"> - Initialize </span><span style="font-weight: 400;">OkHttpClient </span><span style="font-weight: 400;">by Rev module</span><span style="font-weight: 400;"><br /><br /></span></p>
<p><em><span style="font-weight: 400;">    OkHttpClient client = </span></em><span style="font-weight: 400;">NuubitSDK</span><em><span style="font-weight: 400;">.createOkHttpClient();</span></em></p>
<p><em><span style="font-weight: 400;">Or OkHttpClient client = </span></em><span style="font-weight: 400;">NuubitSDK</span><em><span style="font-weight: 400;">.createOkHttpClient(int default_timeout);</span></em></p>
<p><em><span style="font-weight: 400;">Or OkHttpClient client = </span></em><span style="font-weight: 400;">NuubitSDK</span><em><span style="font-weight: 400;">.createOkHttpClient(int default_timeout, boolean followRedirect, boolean followSSLRedirec);</span></em></p>
<p><strong> </strong></p>
<p><strong>Step 15</strong><span style="font-weight: 400;"> - Change the code to use the new OkHttpClient object for data transfer calls (see examples below)</span></p>
<p><strong><br /><br /></strong></p>
<p><strong>Step 16</strong><span style="font-weight: 400;"> - Compile and deploy the mobile application</span></p>
<p><strong><br /><br /><br /></strong></p>
<h2><span style="font-weight: 400;">Examples of use</span></h2>
<p><strong><br /><br /></strong></p>
<p><span style="font-weight: 400;">For use OKHttpClient directly</span><span style="font-weight: 400;"><br /></span><a href="http://square.github.io/okhttp/"><span style="font-weight: 400;">http://square.github.io/okhttp/</span></a></p>
<p><strong> </strong></p>
<h3><span style="font-weight: 400;">GET A URL</span></h3>
<p><span style="font-weight: 400;">OkHttpClient</span><span style="font-weight: 400;"> client </span><span style="font-weight: 400;">=</span> <span style="font-weight: 400;">NuubitSDK</span><em><span style="font-weight: 400;">.createOkHttpClient(15, false, false)</span></em><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">String</span><span style="font-weight: 400;"> run</span><span style="font-weight: 400;">(</span><span style="font-weight: 400;">String</span><span style="font-weight: 400;"> url</span><span style="font-weight: 400;">)</span> <span style="font-weight: 400;">throws</span> <span style="font-weight: 400;">IOException</span> <span style="font-weight: 400;">{</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">  </span><span style="font-weight: 400;">Request</span><span style="font-weight: 400;"> request </span><span style="font-weight: 400;">=</span> <span style="font-weight: 400;">new</span> <span style="font-weight: 400;">Request</span><span style="font-weight: 400;">.</span><span style="font-weight: 400;">Builder</span><span style="font-weight: 400;">()</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">      </span><span style="font-weight: 400;">.</span><span style="font-weight: 400;">url</span><span style="font-weight: 400;">(</span><span style="font-weight: 400;">url</span><span style="font-weight: 400;">)</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">      </span><span style="font-weight: 400;">.</span><span style="font-weight: 400;">build</span><span style="font-weight: 400;">();</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">  </span><span style="font-weight: 400;">Response</span><span style="font-weight: 400;"> response </span><span style="font-weight: 400;">=</span><span style="font-weight: 400;"> client</span><span style="font-weight: 400;">.</span><span style="font-weight: 400;">newCall</span><span style="font-weight: 400;">(</span><span style="font-weight: 400;">request</span><span style="font-weight: 400;">).</span><span style="font-weight: 400;">execute</span><span style="font-weight: 400;">();</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">  </span><span style="font-weight: 400;">return</span><span style="font-weight: 400;"> response</span><span style="font-weight: 400;">.</span><span style="font-weight: 400;">body</span><span style="font-weight: 400;">().</span><span style="font-weight: 400;">string</span><span style="font-weight: 400;">();</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">}</span></p>
<h3><span style="font-weight: 400;">POST TO A SERVER</span></h3>
<p><span style="font-weight: 400;">OkHttpClient</span><span style="font-weight: 400;"> client </span><span style="font-weight: 400;">=</span> <span style="font-weight: 400;">NuubitSDK</span><em><span style="font-weight: 400;">.createOkHttpClient(10, false, false)</span></em><span style="font-weight: 400;">;</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">String</span><span style="font-weight: 400;"> post</span><span style="font-weight: 400;">(</span><span style="font-weight: 400;">String</span><span style="font-weight: 400;"> url</span><span style="font-weight: 400;">,</span> <span style="font-weight: 400;">String</span><span style="font-weight: 400;"> json</span><span style="font-weight: 400;">)</span> <span style="font-weight: 400;">throws</span> <span style="font-weight: 400;">IOException</span> <span style="font-weight: 400;">{</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">  </span><span style="font-weight: 400;">RequestBody</span><span style="font-weight: 400;"> body </span><span style="font-weight: 400;">=</span> <span style="font-weight: 400;">RequestBody</span><span style="font-weight: 400;">.</span><span style="font-weight: 400;">create</span><span style="font-weight: 400;">(</span><span style="font-weight: 400;">JSON</span><span style="font-weight: 400;">,</span><span style="font-weight: 400;"> json</span><span style="font-weight: 400;">);</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">  </span><span style="font-weight: 400;">Request</span><span style="font-weight: 400;"> request </span><span style="font-weight: 400;">=</span> <span style="font-weight: 400;">new</span> <span style="font-weight: 400;">Request</span><span style="font-weight: 400;">.</span><span style="font-weight: 400;">Builder</span><span style="font-weight: 400;">()</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">      </span><span style="font-weight: 400;">.</span><span style="font-weight: 400;">url</span><span style="font-weight: 400;">(</span><span style="font-weight: 400;">url</span><span style="font-weight: 400;">)</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">      </span><span style="font-weight: 400;">.</span><span style="font-weight: 400;">post</span><span style="font-weight: 400;">(</span><span style="font-weight: 400;">body</span><span style="font-weight: 400;">)</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">      </span><span style="font-weight: 400;">.</span><span style="font-weight: 400;">build</span><span style="font-weight: 400;">();</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">  </span><span style="font-weight: 400;">Response</span><span style="font-weight: 400;"> response </span><span style="font-weight: 400;">=</span><span style="font-weight: 400;"> client</span><span style="font-weight: 400;">.</span><span style="font-weight: 400;">newCall</span><span style="font-weight: 400;">(</span><span style="font-weight: 400;">request</span><span style="font-weight: 400;">).</span><span style="font-weight: 400;">execute</span><span style="font-weight: 400;">();</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">  </span><span style="font-weight: 400;">return</span><span style="font-weight: 400;"> response</span><span style="font-weight: 400;">.</span><span style="font-weight: 400;">b</span></p>
<h3><span style="font-weight: 400;">WebView</span></h3>
<p><strong> </strong></p>
<p><span style="font-weight: 400;">If an application uses components similar to WebView, then you MUST USE their with WebViewClient </span><strong>made with help </strong><span style="font-weight: 400;">Nuubit</span><span style="font-weight: 400;">SDK.createWebViewClient(context,view, client)</span></p>
<p><span style="font-weight: 400;">WebView wiew = (WebView) findViewById(R.id.webView);</span></p>
<p><span style="font-weight: 400;">view.setWebViewClient(</span><span style="font-weight: 400;">Nuubit</span><span style="font-weight: 400;">SDK.createWebViewClient(context,view, client));</span></p>
<p><span style="font-weight: 400;">context - Context Applicarion</span></p>
<p><span style="font-weight: 400;">View - your WebView</span></p>
<p><span style="font-weight: 400;">client - OkHTTPClient, </span><strong>made with help </strong><span style="font-weight: 400;">Nuubit</span><strong>SDK</strong><strong>.createOkHttpClient(int default_timeout, boolean followRedirect, boolean followSSLRedirec)</strong></p>
<p><span style="font-weight: 400;">Or other short forms</span></p>
<p><span style="font-weight: 400;">And may also have</span></p>
<p><span style="font-weight: 400;">WebChromeClient, Which should be done with </span><span style="font-weight: 400;">Nuubit</span><span style="font-weight: 400;">SDK.</span><em><span style="font-weight: 400;">createWebChromeClient</span></em><span style="font-weight: 400;">()</span><span style="font-weight: 400;">, for example</span></p>
<p><strong> </strong></p>
<p><span style="font-weight: 400;">view.setWebChromeClient(</span><span style="font-weight: 400;">Nuubit</span><span style="font-weight: 400;">SDK.</span><em><span style="font-weight: 400;">createWebChromeClient</span></em><span style="font-weight: 400;">());</span></p>
<p><strong><br /><br /></strong></p>
<p><strong>For use Volley client</strong></p>
<p><span style="font-weight: 400;">RequestQueue queue = NuubitSDK</span><em><span style="font-weight: 400;">.createRequestQueue</span></em><span style="font-weight: 400;">(</span><strong>this</strong><span style="font-weight: 400;">);</span></p>
<p><strong><br /><br /></strong></p>
<p><strong>For Retrofit initialization use Retrofit.Builder()</strong></p>
<p><strong> </strong></p>
<p><em><span style="font-weight: 400;">OkHttpClient client = </span></em><span style="font-weight: 400;">NuubitSDK</span><em><span style="font-weight: 400;">.createOkHttpClient();</span></em></p>
<p><span style="font-weight: 400;">Retrofit retrofit = </span><strong>new </strong><span style="font-weight: 400;">Retrofit.Builder()</span></p>
<p><span style="font-weight: 400;">.baseUrl(&lt;BASE_URL&gt;)</span></p>
<p><span style="font-weight: 400;">.client(client)</span></p>
<p><span style="font-weight: 400;">.build();</span></p>
<p><strong><br /><br /></strong></p>
<p><strong>For Picasso initialization</strong></p>
<p><span style="font-weight: 400;">Picasso picasso = </span><strong>new </strong><span style="font-weight: 400;">Picasso.Builder(</span><strong>this</strong><span style="font-weight: 400;">).downloader(client).build();</span></p>
<p><strong> </strong></p>
<h2><span style="font-weight: 400;">Dependencies:</span></h2>
<p><strong>com.squareup.okhttp3:okhttp:3.6.0</strong></p>
<p><strong>com.squareup.retrofit2:converter-gson:2.1.0</strong></p>
<p><strong><br /></strong> </p>
<script>// <![CDATA[
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-92590791-2', 'auto'); ga('send', 'pageview');
// ]]></script>