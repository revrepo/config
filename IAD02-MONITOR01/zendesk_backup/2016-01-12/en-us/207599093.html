<h1>RevSDK Introduction</h1>
<p>The Rev Mobile SDK (software development kit) is a set of libraries that will provide the means necessary to report and accelerate the delivery of content to applications running on mobile devices. The SDK utilizes a specially designed set of networking protocols to provide acceleration to a given mobile application.  The network traffic that is normally directed to and from the mobile App is sent through the Rev SDK, which utilizes Rev’s global network to accelerate the App’s traffic.</p>
<p class="c7">The SDK can actually use either of two protocols – an UDP-based protocol RMP (Rev Mobile Protocol) or TCP-based protocol DOTS (Dynamically Optimized Transport System) to transfer the content through the wireless network. The SDK determines, which protocol provides better performance for that particular App, device and wireless network at that moment in time. Once the appropriate protocol is selected, that protocol then senses network, device and App conditions, and adapts its own behavior in real time to provide the fastest possible transfer of data overall.</p>
<p class="c7">The Rev SDK communicates with the Rev server in the Rev network, maintaining the flow of content, and monitoring and reporting on the operation of the SDK while sending performance data reflecting data transfer rates, bandwidth, latencies, etc. This information is then forwarded to the Rev log servers, and then processed for reporting purposes. This processed data is then forwarded to the Rev analytics backend  service, where the performance information is made available to Rev customers via the API or portal.  </p>
<p class="c3"><span class="wysiwyg-font-size-large"><strong>Why is the SDK needed? </strong></span></p>
<p class="c3"><strong>Performance</strong></p>
<p class="c3">While cellular network operators claim that user bandwidth has been increased in 4G-LTE, there are some suggestions that in many cases the latency experienced by users has actually increased. Many analysts have concluded that these cellular networks are congested, resulting in high latencies and less bandwidth utilization than potentially available.</p>
<p class="c7">While there is available and unused bandwidth in most cellular networks, even while being congested, due to inefficiencies of conventional TCP and peculiarities of the cellular network as described in part in the following sections. What is needed is a properly designed networking protocol that can adaptively and intelligently navigates through this network and utilize this unused bandwidth, and thereby decrease total delay.</p>
<p class="c7">The Rev SDK helps mitigate the impact of congestion by using UDP and TCP for the acceleration of content.  </p>
<p class="c7">The SDK provides the following transport enhancements:</p>
<ol class="c9 lst-kix_list_1-0 start" start="1">
<li class="c0"><span class="c1 c5">Optimizes data transport in both downlink and uplink directions</span></li>
<li class="c0"><span class="c1 c5">Reliable transport – detects and handles packet loss efficiently, orders packets properly</span></li>
<li class="c0"><span class="c1 c5">Minimal protocol overhead for establishment of a session – both in connection start-up and in continuous operation</span></li>
<li class="c0"><span class="c1 c5">No teardown of connection due to cellular radio state transitions (without ongoing power requirements) or transfers to neighboring cell sites</span></li>
<li class="c0"><span class="c1 c5">TLS/SSL support using X.509v3 certificates</span></li>
<li class="c0"><span class="c1 c5">Operates without interference from middle boxes in the cellular network. Transparent penetration of cellular network middle-boxes</span><span class="c1">.</span></li>
<li class="c0"><span class="c1 c5">Encryption/decryption of headers and payload as with SSL</span></li>
</ol>
<ul>
<li>Port “spoofing”</li>
<li>Header/payload compression</li>
<li>Session performance data can be recorded and utilized to optimize subsequent transport sessions to the same client</li>
</ul>
<ol class="c9 lst-kix_list_1-0" start="8">
<li class="c0"><span class="c1 c5">Operates equally well in wired environments, accelerating data transport over that provided by conventional TCP</span></li>
</ol>
<p class="c3"> <strong>Visibility</strong></p>
<p class="c7">Another problem that the Rev SDK solves is the lack of end-to-end visibility of an App’s performance.   Rev provides this visibility by combining network, transactions and device metric into a single interface.  </p>
<p class="c7"><span class="c1">Rev mobile analytics has reporting dashboards for daily active users (DAU), monthly active users (MAU) and average request time (processing).        There are multiple pue charts which will display user count, request count and gigabytes transferred.  The pie charts can be available for countries, mobile devices, operating systems and per carrier.   Also available is the ratio between Wi-Fi and cellular networks.</span></p>
<p class="c7"><span class="c1">Top-object reports for the following aggregations:</span></p>
<ul>
<li>Top requests</li>
<li>Top objects with slowest response time</li>
<li>Top objects with slowest TTFB</li>
<li>Top objects with 404 responses</li>
<li>Top objects with 5xx responses</li>
<li>Top objects with cache misses</li>
<li><span class="c1">Top objects with completion failures</span> </li>
</ul>
<p>Once the SDK is compiled into the App, the Rev SDK has multiple modes in which it can operate.   The modes are report, transfer and transfer plus report.    When the mode is set to transfer, the SDK works by intercepting NSURL calls.   AFNetworking,  NSCache, RestKit as well as anything built on NSurl will all be intercepted.  The SDK allows for configuration for what domains and/or sites are intercepted.  By default, all requests are intercepted and sent to the Rev edge using DOTS or RMP.</p>
<p class="c7">The SDK reporting function will report numerous App, wireless and handset details.   The amount of reporting is configurable via the Rev Portal or API.  The controls at a high level are for handset reporting interval, log level and number of requests per report.  Reporting interval is the period of time between when the analytics are sent to the device.  The log level is the levels of detail with debug level being the most detailed.   The number of requests per report is the number of user data requests is performed before sending the analytics to Rev.</p>
<p class="c7">There are three separate data streams between the Rev edge and the handset.  This is shown in Figure 1.  The data path for the App data is the first.  This uses Rev’s RMP or DOTS for acceleration of the content delivery.   The second data stream is the SDK control telemetry.  Using the Rev portal or APIs, different configuration parameters can be sent to the Rev SDK over this stream.  The controls are for reporting, data interception and other SDK features.   Last data stream is for analytics.   The analytics are sent from the handset to the Rev edge, collected and combined with the proxy HTTP log data, thus providing end-to-end visibility.</p>
<p class="c3"> </p>
<p class="c3 wysiwyg-text-align-center"> <img class="wysiwyg-text-align-center" src="https://revapm.zendesk.com/hc/en-us/article_attachments/202442846/image00.png" alt="" />Detailed last mile diagram - Figure 1</p>
<p class="c3">The control and analytics streams are sent to the Rev backend.  While App data stream is set to the Rev edge, depending on the request, the requested object may be a cache hit, dynamic which is requested from origin or pulled from a 3<span class="c2">rd</span> party provider.</p>
<p class="c3">For non-dynamic content, Rev does offer edge caching and the ability for custom VCL rules for complex applications.  Rev supports instant purging of objects via the Rev portal and APIs.   3<span class="c2">rd</span> party content can also be pulled depending on the configuration of the SDK.  By default, all requests, including 3<span class="c2">rd</span> party requests sent to the Rev edge where the objects are requested from their origin(s).   Rev will cache 3<span class="c2">rd</span> party objects based on the cache headers of the specific object.    The end to end data flow can be seen in Figure 2.</p>
<p class="c7"><img class="wysiwyg-text-align-center" src="https://revapm.zendesk.com/hc/en-us/article_attachments/202442856/image01.png" alt="" /></p>
<p class="c7 wysiwyg-text-align-center">  End-to-End diagram - Figure 2</p>
<p class="c7 wysiwyg-text-align-center"> </p>
<p class="c7"> </p>