<h1>How to Create a User</h1>
<p>The system supports authentication using the user’s email and password. The same credentials used with the portal. The API calls must include HTTP Basic Authentication header (RFC 2617) generated from a user's email and password. All modern browsers, as well as command line tools like curl and wget support basic authentication. This is secure, since all communication with the RevAPM API service happens over SSL/HTTPS.</p>
<p>Example</p>
<pre><code class="undefined">curl -u 'user@example.com:password'
</code></pre>
<h2 id="limits"><span class="wysiwyg-font-size-large">Limits</span></h2>
<p>If you're sending too many requests, too quickly, you will receive a <code>503</code> error code (server unavailable). There is a limit of 5000 requests per hour.</p>
<h1 id="examples"><span class="wysiwyg-font-size-large">Examples</span></h1>
<h2 id="account-control-example"><span class="wysiwyg-font-size-large">Account Control Example</span></h2>
<h3 id="create-user">Create User</h3>
<p>In the following section is an example of how to create a user.</p>
<p>Create User Request URL:</p>
<pre><code class="undefined">https://api.revapm.net/v1/users
</code></pre>
<p>Create user JSON (User.json):</p>
<pre><code class="language-json">{
  "<span class="attribute"><span class="attribute">email</span></span>": <span class="value"><span class="string"><span class="value"><span class="string">"stan.lee@example.com"</span></span></span></span>,
  "<span class="attribute"><span class="attribute">firstname</span></span>": <span class="value"><span class="string"><span class="value"><span class="string">"Stan"</span></span></span></span>,
  "<span class="attribute"><span class="attribute">lastname</span></span>": <span class="value"><span class="string"><span class="value"><span class="string">"Lee"</span></span></span></span>,
  "<span class="attribute"><span class="attribute">password</span></span>": <span class="value"><span class="string"><span class="value"><span class="string">"Spider-Man"</span></span></span></span>,
  "<span class="attribute"><span class="attribute">companyId</span></span>": <span class="value"><span class="value">[
    <span class="string"><span class="string">"5588869fbde7a0d00338ce8f"</span></span>
  ]</span></span>,
  "<span class="attribute"><span class="attribute">theme</span></span>": <span class="value"><span class="string"><span class="value"><span class="string">"light"</span></span></span></span>,
  "<span class="attribute"><span class="attribute">role</span></span>": <span class="value"><span class="string"><span class="value"><span class="string">"admin"</span></span></span></span>,
  "<span class="attribute"><span class="attribute">domain</span></span>": <span class="value"><span class="value">[
    <span class="string"><span class="string">"www.example.com"</span></span>,
    <span class="string"><span class="string">"api.example.com"</span></span>
  ]</span></span>,
  "<span class="attribute"><span class="attribute">access_control_list</span></span>": <span class="value"><span class="value">{
  "<span class="attribute"><span class="attribute">readOnly</span></span>": <span class="value"><span class="literal"><span class="value"><span class="literal">false</span></span></span></span>,
  "<span class="attribute"><span class="attribute">test</span></span>": <span class="value"><span class="literal"><span class="value"><span class="literal">true</span></span></span></span>,
  "<span class="attribute"><span class="attribute">configure</span></span>": <span class="value"><span class="literal"><span class="value"><span class="literal">true</span></span></span></span>,
  "<span class="attribute"><span class="attribute">reports</span></span>": <span class="value"><span class="literal"><span class="value"><span class="literal">true</span></span></span></span>,
  "<span class="attribute"><span class="attribute">dashBoard</span></span>": <span class="value"><span class="literal"><span class="value"><span class="literal">true</span></span></span><span class="value">
  }</span></span>
}</span></span>
</code></pre>
<p>cURL example:</p>
<pre><code class="undefined">curl -u 'user@example.com:password' -X POST -H 'Content-Type: application/json' -T User.json http://api.revapm.net/v1/users
</code></pre>
<p>Response body:</p>
<pre><code class="language-json"> {
   "<span class="attribute"><span class="attribute">statusCode</span></span>": <span class="value"><span class="number"><span class="value"><span class="number">200</span></span></span></span>,
   "<span class="attribute"><span class="attribute">message</span></span>": <span class="value"><span class="string"><span class="value"><span class="string">"Successfully created new user"</span></span></span></span>,
   "<span class="attribute"><span class="attribute">object_id</span></span>": <span class="value"><span class="string"><span class="value"><span class="string">"55bff4b8c01a42a2348170f7"</span></span></span><span class="value">
 }</span></span>
</code></pre>
<p>This means that the user was successfully created.</p>
<p> </p>
<script>// <![CDATA[
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68856309-5', 'auto');
  ga('send', 'pageview');
// ]]></script>